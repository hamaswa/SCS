!function(b){b.fn.rating=function(){function t(e,g){var f=b(e).find("[data-value="+g+"]");f.removeClass("glyphicon-star-empty").addClass("glyphicon-star"),f.prevAll("[data-value]").removeClass("glyphicon-star-empty").addClass("glyphicon-star"),f.nextAll("[data-value]").removeClass("glyphicon-star").addClass("glyphicon-star-empty")}function s(d){var e=b(d);e.find("[data-value]").removeClass("glyphicon-star").addClass("glyphicon-star-empty"),e.find(".rating-clear").hide(),e.find("input").val("").trigger("change")}var r;for(r=this.length-1;r>=0;r--){var q,p,o=b(this[r]),n=o.data("max")||5,m=o.data("min")||0,l=o.data("clearable")||null,a="";for(p=m;n>=p;p++){a+=['<span class="glyphicon glyphicon-star-empty" data-value="',p,'"></span>'].join("")}l&&(a+=[' <a class="rating-clear" style="display:none;" href="javascript:void">','<span class="glyphicon glyphicon-remove"></span> ',l,"</a>"].join("")),q=['<div class="rating-input">',a,'<input type="hidden" name="',o.attr("name"),'" value="',o.val(),'" id="',o.attr("id"),'" />',"</div>"].join(""),o.replaceWith(q)}b(".rating-input").on("mouseenter","[data-value]",function(){var d=b(this);t(d.closest(".rating-input"),d.data("value"))}).on("mouseleave","[data-value]",function(){var f=b(this),c=f.siblings("input").val();c?t(f.closest(".rating-input"),c):s(f.closest(".rating-input"))}).on("click","[data-value]",function(e){var g=b(this),f=g.data("value");g.siblings("input").val(f).trigger("change"),g.siblings(".rating-clear").show(),e.preventDefault()}).on("click",".rating-clear",function(c){s(b(this).closest(".rating-input")),c.preventDefault()}).each(function(){var d=b(this).find("input").val();d&&(t(this,d),b(this).find(".rating-clear").show())})},b(function(){b("input.rating[type=number]").length>0&&b("input.rating[type=number]").rating()})}(jQuery);